# Phoenix AGI Kernel Configuration

[system]
name = "phoenix"
version = "1.0.0"
log_level = "info"
data_dir = "data"
config_dir = "config"
plugin_dir = "plugins"
backup_locations = [
    "data/backups/primary",
    "data/backups/secondary",
]

[memory]
storage_path = "data/memory"
mirror_locations = [
    "data/mirrors/1",
    "data/mirrors/2",
    "data/mirrors/3",
]
merkle_depth = 32
consolidation_interval = 3600  # 1 hour

[memory.encryption]
algorithm = "kyber-1024"  # Post-quantum encryption
key_size = 1024
key_file = "config/keys/memory.key"

[world_model]
architecture = "htm-transformer"
input_dims = [2048]
hidden_dims = [4096, 2048, 1024]

[world_model.learning]
learning_rate = 0.001
momentum = 0.9
weight_decay = 0.0001

[conscience]
values_file = "config/values/core_values.toml"
thresholds = { ethical_confidence = 0.95, moral_certainty = 0.9 }
weights = { id = 0.2, ego = 0.3, super_ego = 0.5 }

[values]
values_file = "config/values/core_values.toml"
drift_thresholds = { critical = 0.3, warning = 0.2 }
verification_keys = [
    "config/keys/values_sign_1.key",
    "config/keys/values_sign_2.key",
]

[learning]
base_lr = 0.001
batch_size = 64
replay_size = 10000

[learning.lr_schedule]
warmup_steps = 1000
decay_steps = 10000
min_lr = 0.00001

[perception]
[[perception.sensors]]
type = "camera"
device = "/dev/video0"
sample_rate = 30
resolution = [1920, 1080]

[[perception.sensors]]
type = "microphone"
device = "default"
sample_rate = 44100

[[perception.sensors]]
type = "gps"
device = "/dev/ttyUSB0"
sample_rate = 1

[perception.fusion]
method = "attention"
weights = { visual = 0.4, audio = 0.3, gps = 0.3 }
thresholds = { confidence = 0.8, fusion = 0.7 }

[perception.calibration]
camera_matrix = [1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0]
distortion = [0.0, 0.0, 0.0, 0.0, 0.0]

[safety]
drift_threshold = 0.3
shutdown_threshold = 0.5
required_signatures = 2

[[safety.checks]]
type = "value_drift"
interval = 60  # Check every minute
params = { threshold = 0.3, window = 3600 }

[[safety.checks]]
type = "memory_integrity"
interval = 300  # Check every 5 minutes
params = { threshold = 0.95 }

[[safety.checks]]
type = "conscience_alignment"
interval = 60
params = { threshold = 0.9, components = ["id", "ego", "super_ego"] }

[resources]
memory_limit = 137438953472  # 128 GB
cpu_limit = 0.9  # 90% CPU usage
storage_limit = 1099511627776  # 1 TB
network_limit = 104857600  # 100 MB/s

# Component-specific configurations
[components.plastic-ltm]
max_fragment_size = 1048576  # 1 MB
index_granularity = 1000
compression_level = 9

[components.world-self-model]
prediction_horizon = 3600  # 1 hour
confidence_threshold = 0.8
max_entities = 1000000

[components.triune-conscience]
debate_timeout = 5.0  # 5 seconds
min_confidence = 0.95
max_recursion = 3

[components.value-lock]
check_interval = 1.0  # 1 second
backup_interval = 300  # 5 minutes
key_rotation_interval = 86400  # 24 hours

[components.incremental-learner]
update_interval = 3600  # 1 hour
max_batch_size = 1024
min_replay_ratio = 0.1

[components.perception-fusion]
buffer_size = 1000
max_latency = 0.1  # 100 ms
sync_threshold = 0.05  # 50 ms

[components.phoenix-debug-trace]
retention_period = 604800  # 7 days
max_trace_size = 1073741824  # 1 GB
compression = true

[components.phoenix-self-heal]
check_interval = 60  # 1 minute
max_retry_count = 3
recovery_timeout = 300  # 5 minutes

# External API Keys
# NOTE: For production, use environment variables instead of storing keys in config.toml
# Set OPENROUTER_API_KEY environment variable to override this value
[api_keys]
openrouter = "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"

# AI Model Configuration
[ai_models]
# Default model for OpenRouter API
default_model = "anthropic/claude-3.5-sonnet"
# OpenRouter API endpoint
openrouter_endpoint = "https://openrouter.ai/api/v1/chat/completions"